const a0_0x3f1346=a0_0x1953;(function(_0x581f69,_0x5589dd){const _0x3bbf03=a0_0x1953,_0x5c4a3a=_0x581f69();while(!![]){try{const _0x505d4b=-parseInt(_0x3bbf03(0xce))/0x1+-parseInt(_0x3bbf03(0xd0))/0x2+-parseInt(_0x3bbf03(0xd1))/0x3+-parseInt(_0x3bbf03(0xd3))/0x4+-parseInt(_0x3bbf03(0xd4))/0x5+-parseInt(_0x3bbf03(0xd6))/0x6+parseInt(_0x3bbf03(0xd8))/0x7;if(_0x505d4b===_0x5589dd)break;else _0x5c4a3a['push'](_0x5c4a3a['shift']());}catch(_0x5b7f7e){_0x5c4a3a['push'](_0x5c4a3a['shift']());}}}(a0_0x2f75,0x37f68));const $=new Env('åº”ç”¨æ›´æ–°æ£€æµ‹'),appList=[{'name':'Shadowrocket','bundleId':'com.liguangming.Shadowrocket','icon':'ğŸš€','category':'ä»£ç†å·¥å…·'},{'name':a0_0x3f1346(0xd9),'bundleId':'com.nssurge.inc.surge-ios','icon':'âš¡ï¸','category':'ä»£ç†å·¥å…·'},{'name':'Loon','bundleId':'com.ruikq.decar','icon':'ğŸˆ','category':'ä»£ç†å·¥å…·'},{'name':'Quantumult\x20X','bundleId':'com.crossutility.quantumult-x','icon':'ğŸŒ€','category':'ä»£ç†å·¥å…·'},{'name':'å¾®ä¿¡','bundleId':'com.tencent.xin','icon':'ğŸ’¬','category':'ç¤¾äº¤åº”ç”¨'}];function a0_0x1953(_0x566798,_0x3d1637){const _0x312c3d=a0_0x2f75();return a0_0x1953=function(_0x4a7d9f,_0x5bfeb7){_0x4a7d9f=_0x4a7d9f-0xce;let _0x42ad55=_0x312c3d[_0x4a7d9f];return _0x42ad55;},a0_0x1953(_0x566798,_0x3d1637);}function a0_0x2f75(){const _0x25bae9=['@chavy_boxjs_userCfgs.httpapi','683930uuuuuu','294903uuuuuu','results','393204uuuuuu','491505uuuhhh','length','589806hhhhhh','data','9144506hhhhhh','Surge','getTime','/lookup?bundleId=','bundleId','assign','log','replace','setdata','__chavy_tmp','runScriptContent','then','getdata','341965uuuuuu'];a0_0x2f75=function(){return _0x25bae9;};return a0_0x2f75();}function compareVersions(_0x1953d2,_0x24820f){if(!_0x1953d2||!_0x24820f)return 0x0;const _0xe2595d=_0x1953d2['split']('.')['map'](Number),_0x2f758f=_0x24820f['split']('.')['map'](Number),_0x88e776=Math['max'](_0xe2595d['length'],_0x2f758f['length']);for(let _0x1eeaf1=0x0;_0x1eeaf1<_0x88e776;_0x1eeaf1++){const _0x274d9e=_0xe2595d[_0x1eeaf1]||0x0,_0x1c1f61=_0x2f758f[_0x1eeaf1]||0x0;if(_0x274d9e>_0x1c1f61)return 0x1;if(_0x274d9e<_0x1c1f61)return-0x1;}return 0x0;}function request(_0x5c2e83){return new Promise((_0xb5a06a,_0x21b680)=>{const _0x10dc78=_0x5c2e83['includes']('?')?_0x5c2e83+'&t='+Date['now']():_0x5c2e83+'?t='+Date['now']();$['get']({'url':_0x10dc78},(_0x2732fc,_0x476d44,_0x312972)=>{if(_0x2732fc)_0x21b680(_0x2732fc);else try{const _0x1060cd=_0x476d44['status']||_0x476d44['statusCode'];if(_0x1060cd===0xc8){const _0x1dcb01=typeof _0x312972==='string'?JSON['parse'](_0x312972):_0x312972;_0xb5a06a({'status':_0x1060cd,'data':_0x1dcb01});}else _0x21b680(new Error('HTTP\x20'+_0x1060cd));}catch(_0x4799f7){_0x21b680(new Error('JSONè§£æå¤±è´¥'));}});});}async function enhancedFetch(_0x312c3d){const _0x3d1637=_0x312c3d['bundleId']==='com.tencent.xin';let _0x566ac3=['US','HK','CN'];['Surge','Shadowrocket']['includes'](_0x312c3d['name'])&&(_0x566ac3=['US','HK','JP']);const _0x3d136c=_0x566ac3['map'](async _0x35f753=>{const _0x3eb337=a0_0x1953,_0x306035='https://itunes.apple.com/'+_0x35f753+_0x3eb337(0xdb)+_0x312c3d[_0x3eb337(0xdc)];try{const _0x3c4d29=await request(_0x306035);if(_0x3c4d29[_0x3eb337(0xd7)][_0x3eb337(0xd2)]&&_0x3c4d29[_0x3eb337(0xd7)][_0x3eb337(0xd2)][_0x3eb337(0xd5)]>0x0)return _0x3c4d29[_0x3eb337(0xd7)]['results'][0x0]['version'];}catch(_0x559e8b){}return null;}),_0x42aa8a=await Promise['all'](_0x3d136c),_0x35f488=_0x42aa8a['filter'](_0x4a7d9f=>_0x4a7d9f!==null);if(_0x35f488['length']===0x0)throw new Error('æ‰€æœ‰åŒºåŸŸæŸ¥è¯¢å¤±è´¥');let _0x4f48b5=_0x35f488[0x0];for(let _0x566798=0x1;_0x566798<_0x35f488['length'];_0x566798++){compareVersions(_0x35f488[_0x566798],_0x4f48b5)===0x1&&(_0x4f48b5=_0x35f488[_0x566798]);}return console['log']('âœ…\x20'+_0x312c3d['icon']+'\x20'+_0x312c3d['name']+'\x20æ£€æµ‹ç»“æœ:\x20'+_0x4f48b5+'\x20(æ¥æº:\x20['+_0x566ac3['join'](',')+'])'),{'app':_0x312c3d,'version':_0x4f48b5};}((async()=>{let _0x33c813=![];const _0x3fb20c={'updated':{'ä»£ç†å·¥å…·':[],'ç¤¾äº¤åº”ç”¨':[]},'failed':[],'current':[]},_0x59036e=Date['now'](),_0x265a6d=appList['map'](_0x15fab7=>enhancedFetch(_0x15fab7)),_0x29b4fa=await Promise['allSettled'](_0x265a6d);_0x29b4fa['forEach']((_0x42ad55,_0x106398)=>{const _0x1dce2b=appList[_0x106398];if(_0x42ad55['status']==='fulfilled'){const {version:_0x33f7a3}=_0x42ad55['value'],_0x14f499='app_ver_'+_0x1dce2b['bundleId'],_0xd3942f=$['getdata'](_0x14f499);if(!_0xd3942f)$['setdata'](_0x33f7a3,_0x14f499),_0x3fb20c['current']['push']({'app':_0x1dce2b,'version':_0x33f7a3,'status':'é¦–æ¬¡è®°å½•'});else{const _0x1aa36a=compareVersions(_0x33f7a3,_0xd3942f);if(_0x1aa36a===0x1){_0x33c813=!![];if(!_0x3fb20c['updated'][_0x1dce2b['category']])_0x3fb20c['updated'][_0x1dce2b['category']]=[];_0x3fb20c['updated'][_0x1dce2b['category']]['push']({'app':_0x1dce2b,'oldVersion':_0xd3942f,'newVersion':_0x33f7a3}),$['setdata'](_0x33f7a3,_0x14f499);}else _0x1aa36a===-0x1?(console['log']('âš ï¸\x20'+_0x1dce2b['name']+'\x20APIæ•°æ®å¼‚å¸¸\x20('+_0x33f7a3+'\x20<\x20'+_0xd3942f+')ï¼Œä¿æŒæœ¬åœ°æ–°ç‰ˆ'),_0x3fb20c['current']['push']({'app':_0x1dce2b,'version':_0xd3942f,'status':'APIå›é€€'})):_0x3fb20c['current']['push']({'app':_0x1dce2b,'version':_0x33f7a3,'status':'æœ€æ–°ç‰ˆ'});}}else _0x3fb20c['failed']['push']({'app':_0x1dce2b,'error':_0x42ad55['reason']['message']});});const _0x2f4c19=((Date['now']()-_0x59036e)/0x3e8)['toFixed'](0x1);if(_0x33c813||_0x3fb20c['failed']['length']>0x0){const _0x14c1f0=_0x33c813?'ğŸ“±\x20å‘ç°åº”ç”¨æ›´æ–°':'âŒ\x20åº”ç”¨æ£€æµ‹å¤±è´¥';let _0x33f478=_0x33c813?'âœ¨\x20æœ‰åº”ç”¨å¯æ›´æ–°':'âš ï¸\x20éƒ¨åˆ†åº”ç”¨æŸ¥è¯¢å¤±è´¥',_0x3fde72='',_0x5932f2=![];if(_0x33c813)for(const _0x3fe19c of['ä»£ç†å·¥å…·','ç¤¾äº¤åº”ç”¨']){if(_0x3fb20c['updated'][_0x3fe19c]&&_0x3fb20c['updated'][_0x3fe19c]['length']>0x0){if(_0x5932f2)_0x3fde72+='\x0a';_0x3fde72+='ğŸ†•\x20'+_0x3fe19c+'æ›´æ–°:\x0a',_0x3fde72+=_0x3fb20c['updated'][_0x3fe19c]['map'](_0x4578bb=>_0x4578bb['app']['icon']+'\x20'+_0x4578bb['app']['name']+':\x20'+_0x4578bb['oldVersion']+'\x20â†’\x20'+_0x4578bb['newVersion'])['join']('\x0a'),_0x5932f2=!![];}}if(_0x3fb20c['failed']['length']>0x0){if(_0x5932f2)_0x3fde72+='\x0a';_0x3fde72+='âŒ\x20æŸ¥è¯¢å¤±è´¥:\x0a',_0x3fde72+=_0x3fb20c['failed']['map'](_0x38c2b9=>_0x38c2b9['app']['icon']+'\x20'+_0x38c2b9['app']['name']+':\x20'+_0x38c2b9['error'])['join']('\x0a');}if(_0x33c813&&_0x3fb20c['current']['length']>0x0){_0x3fde72+='\x0aâœ…\x20æœ€æ–°ç‰ˆåº”ç”¨:\x0a',_0x3fde72+=_0x3fb20c['current']['slice'](0x0,0x3)['map'](_0x5216da=>_0x5216da['app']['icon']+'\x20'+_0x5216da['app']['name']+':\x20'+_0x5216da['version'])['join']('\x0a');if(_0x3fb20c['current']['length']>0x3)_0x3fde72+='...ä»¥åŠå…¶ä»–\x20'+(_0x3fb20c['current']['length']-0x3)+'\x20ä¸ª';}_0x3fde72+='\x0aâ±ï¸\x20è€—æ—¶:\x20'+_0x2f4c19+'s',$['msg'](_0x14c1f0,_0x33f478,_0x3fde72);}else console['log']('ğŸ“±\x20æ‰€æœ‰åº”ç”¨å‡ä¸ºæœ€æ–°ç‰ˆæœ¬ä¸”æ£€æµ‹æˆåŠŸï¼Œæ— éœ€é€šçŸ¥');console['log']('='['repeat'](0x28)),_0x33c813?(console['log']('âœ¨\x20å‘ç°æ›´æ–°:'),Object['values'](_0x3fb20c['updated'])['flat']()['forEach'](_0x508314=>console['log']('\x20\x20'+_0x508314['app']['icon']+'\x20'+_0x508314['app']['name']+':\x20'+_0x508314['oldVersion']+'\x20â†’\x20'+_0x508314['newVersion']))):console['log']('âœ¨\x20æ— æ›´æ–°'),_0x3fb20c['current']['length']>0x0&&(console['log']('âœ…\x20å½“å‰çŠ¶æ€:'),_0x3fb20c['current']['forEach'](_0x3a26a7=>console['log']('\x20\x20'+_0x3a26a7['app']['icon']+'\x20'+_0x3a26a7['app']['name']+':\x20'+_0x3a26a7['version']+'\x20['+_0x3a26a7['status']+']'))),console['log']('='['repeat'](0x28)),$['done']();})());function Env(_0x375e6c,_0x348f88){const _0x58632b=a0_0x3f1346;'undefined'!=typeof process&&JSON['stringify'](process['env'])['indexOf']('GITHUB')>-0x1&&process['exit'](0x0);class _0x414584{constructor(_0x40797c){this['env']=_0x40797c;}['write'](_0x3f1564,_0x586cb0){return this['env']['setdata'](_0x3f1564,_0x586cb0);}['read'](_0x4d4bc4,_0x5935bd){return this['env']['getdata'](_0x4d4bc4,_0x5935bd);}['fetch'](_0x4bb504){return new Promise((_0x355896,_0x32905b)=>{this['env']['get'](_0x4bb504,(_0x2b03c7,_0x31feb0,_0x3729c7)=>{_0x355896({'error':_0x2b03c7,'response':_0x31feb0,'body':_0x3729c7});});});}}return new class{constructor(_0x4316b5,_0x41afa3){const _0x33f25a=a0_0x1953;this['name']=_0x4316b5,this['http']=new _0x414584(this),this['data']=null,this['dataFile']='box.dat',this['logs']=[],this['isMute']=!0x1,this['isNeedRewrite']=!0x1,this['logSeparator']='\x0a',this['startTime']=new Date()[_0x33f25a(0xda)](),Object[_0x33f25a(0xdd)](this,_0x41afa3),this[_0x33f25a(0xde)]('','ğŸ””'+this['name']+',\x20å¼€å§‹!');}['isNode'](){return'undefined'!=typeof module&&!!module['exports'];}['isQuanX'](){return'undefined'!=typeof $task;}['isSurge'](){return'undefined'!=typeof $httpClient&&'undefined'==typeof $loon;}['isLoon'](){return'undefined'!=typeof $loon;}['toObj'](_0x5b06ee,_0x5e2e85=null){try{return JSON['parse'](_0x5b06ee);}catch{return _0x5e2e85||_0x5b06ee;}}['toStr'](_0x2b8584,_0x2e53a9=null){try{return JSON['stringify'](_0x2b8584);}catch{return _0x2e53a9||_0x2b8584;}}['getjson'](_0x2bb87a,_0x256425){let _0x2c2482=_0x256425;const _0x23d05a=this['getdata'](_0x2bb87a);if(_0x23d05a)try{_0x2c2482=JSON['parse'](this['getdata'](_0x2bb87a));}catch{}return _0x2c2482;}['setjson'](_0xd73ec6,_0x10a16c){try{return this['setdata'](JSON['stringify'](_0xd73ec6),_0x10a16c);}catch{return!0x1;}}['getScript'](_0x3d540b){return new Promise(_0x401c46=>{this['get']({'url':_0x3d540b},(_0x13c841,_0xe9d2ad,_0x1aa09f)=>_0x401c46(_0x1aa09f));});}['runScript'](_0x116a5e,_0xd009f5){return new Promise(_0x1a6ad2=>{let _0x18d412=this['getdata']('@chavy_boxjs_userCfgs.httpapi');_0x18d412=_0x18d412?_0x18d412['replace'](/\n/g,'')['trim']():_0x18d412;let _0x27d8e8=this['isSurge']()?Object['keys']($httpClient)['length']:0x0;_0x18d412=this['isQuanX']()||this['isLoon']()&&_0x27d8e8?_0x18d412:null,this['getScript'](_0x116a5e)['then'](_0x3525e6=>{const _0x3f11ca=a0_0x1953;this[_0x3f11ca(0xe0)](_0x3525e6,_0x3f11ca(0xe1)),this[_0x3f11ca(0xe2)](_0x3525e6,_0xd009f5)[_0x3f11ca(0xe3)](_0x37bb72=>_0x1a6ad2(_0x37bb72));});});}[_0x58632b(0xe2)](_0x43a860,_0x42414e){return new Promise(_0x5b95da=>{const _0x408c0e=a0_0x1953;let _0x423e83=this[_0x408c0e(0xe4)](_0x408c0e(0xcf));_0x423e83=_0x423e83?_0x423e83[_0x408c0e(0xdf)](/\n/g,'')['trim']():_0x423e83;let _0x3bea2d=this['isSurge']()?Object['keys']($httpClient)['length']:0x0;_0x423e83=this['isQuanX']()||this['isLoon']()&&_0x3bea2d?_0x423e83:null;try{$=this,eval(_0x43a860),_0x5b95da('');}catch(_0x30c971){this['logErr'](_0x30c971),_0x5b95da('');}});}['write'](_0x4a1d9e,_0x30cc3c){return this['setdata'](_0x4a1d9e,_0x30cc3c);}['read'](_0x321702,_0x386b57){return this['getdata'](_0x321702,_0x386b57);}['setdata'](_0x31aafb,_0x3e60fd){let _0x3d97ef=!0x1;if(this['isSurge']()||this['isLoon']()){if($persistentStore['write'](_0x31aafb,_0x3e60fd))_0x3d97ef=!0x0;}else this['isNode']()&&(this['data']=this['loaddata'](),this['data'][_0x3e60fd]=_0x31aafb,this['writedata'](),_0x3d97ef=!0x0);if(this['isQuanX']()){if($prefs['setValueForKey'](_0x31aafb,_0x3e60fd))_0x3d97ef=!0x0;}return _0x3d97ef;}['getdata'](_0x53f469){let _0x5689f5=null;if(this['isSurge']()||this['isLoon']())_0x5689f5=$persistentStore['read'](_0x53f469);else{if(this['isQuanX']())_0x5689f5=$prefs['valueForKey'](_0x53f469);else this['isNode']()&&(this['data']=this['loaddata'](),_0x5689f5=this['data'][_0x53f469]);}return _0x5689f5;}['loaddata'](){return new Promise(_0x4b6909=>{let _0x575303={};if(this['isNode']()){const _0x350c8f=require('fs'),_0x33c1c9=require('path'),_0x26436d=_0x33c1c9['resolve'](this['dataFile']),_0x5c4654=_0x33c1c9['resolve'](process['cwd'](),this['dataFile']),_0x3512d9=_0x350c8f['existsSync'](_0x26436d),_0x40fcd2=!_0x3512d9&&_0x350c8f['existsSync'](_0x5c4654);if(!_0x3512d9&&!_0x40fcd2)return;const _0x34fb19=_0x3512d9?_0x26436d:_0x5c4654;try{_0x575303=JSON['parse'](_0x350c8f['readFileSync'](_0x34fb19));}catch{}}_0x4b6909(_0x575303);});}['writedata'](){if(this['isNode']()){const _0x4b5794=require('fs'),_0x4d01b5=require('path'),_0x1a58b5=_0x4d01b5['resolve'](this['dataFile']),_0x18ae93=_0x4d01b5['resolve'](process['cwd'](),this['dataFile']),_0x1c0920=_0x4b5794['existsSync'](_0x1a58b5),_0x21a03e=!_0x1c0920&&_0x4b5794['existsSync'](_0x18ae93),_0x2da1f7=_0x1c0920?_0x1a58b5:_0x18ae93;_0x4b5794['writeFileSync'](_0x2da1f7,JSON['stringify'](this['data']));}}['msg'](_0x17457d,_0x104bd9,_0x29a065,_0x10490e){if(this['isSurge']()||this['isLoon']())$notification['post'](_0x17457d,_0x104bd9,_0x29a065,_0x10490e);else{if(this['isQuanX']())$notify(_0x17457d,_0x104bd9,_0x29a065,_0x10490e);else{if(this['isNode']()){const _0x3cfbac=['','==============ğŸ“£ç³»ç»Ÿé€šçŸ¥ğŸ“£=============='];_0x3cfbac['push'](_0x104bd9),_0x29a065&&_0x3cfbac['push'](_0x29a065),console['log'](_0x3cfbac['join']('\x0a'));}}}this['logs']['push']('',_0x17457d,_0x104bd9,_0x29a065);}['log'](..._0x3fc9dd){_0x3fc9dd['length']>0x0&&(this['logs']=[...this['logs'],..._0x3fc9dd]),console['log'](_0x3fc9dd['join'](this['logSeparator']));}['logErr'](_0xd2183b,_0xcc2e6c){const _0xd8ed6=!this['isSurge']()&&!this['isQuanX']()&&!this['isLoon']();_0xd8ed6?this['log']('','â—ï¸'+this['name']+',\x20é”™è¯¯!',_0xd2183b['stack']):this['log']('','â—ï¸'+this['name']+',\x20é”™è¯¯!',_0xd2183b);}['wait'](_0xf0aca){return new Promise(_0x1a44cd=>setTimeout(_0x1a44cd,_0xf0aca));}['done'](_0xed821={}){const _0x41b029=new Date()['getTime'](),_0x30cda0=(_0x41b029-this['startTime'])/0x3e8;this['log']('','ğŸ””'+this['name']+',\x20ç»“æŸ!\x20ğŸ•›\x20'+_0x30cda0+'\x20ç§’'),this['log'](),(this['isSurge']()||this['isQuanX']()||this['isLoon']())&&$done(_0xed821);}['get'](_0x3395db,_0x3f7fd5){this['send'](_0x3395db,'GET',_0x3f7fd5);}['post'](_0x58d455,_0x3f82ff){this['send'](_0x58d455,'POST',_0x3f82ff);}['send'](_0x3cb4cf,_0x45d758,_0x77e476){if(this['isSurge']()||this['isLoon']()){const _0x1e728f=$httpClient;_0x1e728f[_0x45d758['toLowerCase']()](_0x3cb4cf,(_0xe9d24e,_0xdd11c6,_0xc6d04e)=>{!_0xe9d24e&&_0xdd11c6&&(_0xdd11c6['body']=_0xc6d04e,_0xdd11c6['statusCode']=_0xdd11c6['status']),_0x77e476(_0xe9d24e,_0xdd11c6,_0xc6d04e);});}else this['isQuanX']()&&(_0x3cb4cf['method']=_0x45d758,this['isNeedRewrite']&&(_0x3cb4cf['opts']=_0x3cb4cf['opts']||{},Object['assign'](_0x3cb4cf['opts'],{'hints':!0x1})),$task['fetch'](_0x3cb4cf)['then'](_0x25c45c=>{const {statusCode:_0x28ebe6,statusCode:_0x13aec6,headers:_0x167cf7,body:_0x43303c}=_0x25c45c;_0x77e476(null,{'status':_0x28ebe6,'statusCode':_0x13aec6,'headers':_0x167cf7,'body':_0x43303c},_0x43303c);},_0x13e1c8=>_0x77e476(_0x13e1c8)));}['initGotEnv'](_0xd8d736){this['got']=this['got']?this['got']:require('got'),this['ckt']=this['ckt']?this['ckt']:require('tough-cookie'),this['ckjar']=this['ckjar']?this['ckjar']:new this['ckt']['CookieJar'](),_0xd8d736&&(_0xd8d736['headers']=_0xd8d736['headers']?_0xd8d736['headers']:{},void 0x0===_0xd8d736['headers']['Cookie']&&void 0x0===_0xd8d736['cookieJar']&&(_0xd8d736['cookieJar']=this['ckjar']));}['get'](_0x144dd0,_0xbf9a82){this['send'](_0x144dd0,'GET',_0xbf9a82);}['post'](_0x254afd,_0x552b28){this['send'](_0x254afd,'POST',_0x552b28);}['send'](_0x57f357,_0x2b9f53,_0x26743c){if(this['isSurge']()||this['isLoon']()){const _0x1a874d=$httpClient;_0x1a874d[_0x2b9f53['toLowerCase']()](_0x57f357,(_0x192330,_0x2c98dd,_0x1925fb)=>{!_0x192330&&_0x2c98dd&&(_0x2c98dd['body']=_0x1925fb,_0x2c98dd['statusCode']=_0x2c98dd['status']),_0x26743c(_0x192330,_0x2c98dd,_0x1925fb);});}else this['isQuanX']()&&(_0x57f357['method']=_0x2b9f53,this['isNeedRewrite']&&(_0x57f357['opts']=_0x57f357['opts']||{},Object['assign'](_0x57f357['opts'],{'hints':!0x1})),$task['fetch'](_0x57f357)['then'](_0x490030=>{const {statusCode:_0x1c4d92,statusCode:_0x18ed63,headers:_0x24d75d,body:_0x29414b}=_0x490030;_0x26743c(null,{'status':_0x1c4d92,'statusCode':_0x18ed63,'headers':_0x24d75d,'body':_0x29414b},_0x29414b);},_0xdb3849=>_0x26743c(_0xdb3849)));}}(_0x375e6c,_0x348f88);}